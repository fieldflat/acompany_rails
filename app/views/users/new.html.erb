<!--
<h1>Users#new</h1>
<p>Find me in app/views/users/new.html.erb</p>
-->

<div class="text-center">
  <h1>ようこそ, Sign upへ</h1>
  <h3>以下の項目を入力してください.</h3>
</div>

<div class="row">
  <div class="col-md-6 col-md-offset-3">

    <!-- 疑問点その3：form_for(@user)の@user -->
    <!--
    form_for(@user) #これで@userが新しいときはuser#createに
                    #@userが既存のときは、user#updateに, 勝手に振り分けます。
                    もっと簡単に.../usersにアクセスされる!!!
    -->
    <!--
      コントローラのアクションに飛ばしたい場合はrender,
      redirect_toは.
    -->
    <!-- <%= flash.now[:danger] %>  ユーザー登録に失敗した場合 -->
    <%= form_for(@user) do |f| %>

      <!-- ユーザ登録失敗時の挙動 -->
      <% if flash.now[:danger] %>
      <%= render 'layouts/error_messages', model: f.object %> <!-- layoutsの_error_messange.html.erbにアクセス -->
      <% end %>

      <div class="form-group">
        <%= f.label :name %> <!-- :nameはカラム名を表す -->
        <%= f.text_field :name, class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= f.label :email %>
        <%= f.email_field :email, class: 'form-control' %>
      </div>

      <div class="form-group">
         <%= f.label :password %>
         <%= f.password_field :password, class: 'form-control' %>
       </div>

       <div class="form-group">
         <%= f.label :password_confirmation %>
         <%= f.password_field :password_confirmation, class: 'form-control' %>
       </div>

       <!--
         POST /users(.:format)          users#create
        より, f.submit(POST)を実行することで, usersコントローラのcreateアクション
        を実行する仕組みになっている.
       -->

       <%= f.submit 'サインアップ', class: 'btn btn-primary btn-block' %>
     <% end %>
   </div>
 </div>
